    ezbox embedded-system study platform

==
Package Content
==
1. bootstrap/ :
  The bootstrap/ directory contains build tools to construct a bootstrap system for ezbox.
  The major part of build tools is from openwrt project(https://dev.openwrt.org/wiki)

2. distro/ :
  The distro/ directory contains distribution-related packages.
  Each distribution has its own purpose, and contains different packages.

3. misc/ :
  This directory stores a lot of nothing, may be removed :-)

==
Build Instructions
==
1. Before building the target system for ezbox, you should select a distro and symbol link the target arch to bootstrap/target/linux directory. Following examples will use distro kuafu and target CPU is ar7240.
	1) Symbol link target
		ln -s `pwd`/distro/kuafu/target/linux/ar71xx bootstrap/target/linux/ar71xx

	2) Use distro default packages
		cp distro/kuafu/feeds.conf bootstrap/feeds.conf

	3) Use default config for the target distro
		cp distro/kuafu/configs/defconfig-ar71xx bootstrap/.config

2. Set environment variables
	1) Set target device type
		export DEVICE_TYPE=ezbox

	2) Set target arch
		export ARCH=mips

3. Enter bootstrap/ directory and start build
	1) Goto bootstrap/ directory
		cd bootstrap

	2) Get target distro default packages
		./scripts/feeds update -a

	3) Install all target distro default packages
		./scripts/feeds install -a

	4) Generate fresh config file
		make ARCH=mips oldconfig

	5) Start build, and record output to build.txt
		make V=99 2>&1 | tee build.txt

